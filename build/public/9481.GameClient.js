"use strict";(self.webpackChunkGameClient=self.webpackChunkGameClient||[]).push([[9481],{9481:(e,s,n)=>{n.d(s,{KHR_materials_sheen:()=>l});var o=n(6486),r=n(67),t=n(451),h=n(9046);const a="KHR_materials_sheen";class l{constructor(e){this.name=a,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(a)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,s,n){return r.BT.LoadExtensionAsync(e,s,this.name,((o,r)=>{const t=new Array;return t.push(this._loader.loadMaterialPropertiesAsync(e,s,n)),t.push(this._loadSheenPropertiesAsync(o,r,n)),Promise.all(t).then((()=>{}))}))}_loadSheenPropertiesAsync(e,s,n){if(!(n instanceof o.Y))throw new Error(`${e}: Material type not supported`);const r=new Array;return n.sheen.isEnabled=!0,n.sheen.intensity=1,null!=s.sheenColorFactor?n.sheen.color=t.v9.FromArray(s.sheenColorFactor):n.sheen.color=t.v9.Black(),s.sheenColorTexture&&r.push(this._loader.loadTextureInfoAsync(`${e}/sheenColorTexture`,s.sheenColorTexture,(e=>{e.name=`${n.name} (Sheen Color)`,n.sheen.texture=e}))),void 0!==s.sheenRoughnessFactor?n.sheen.roughness=s.sheenRoughnessFactor:n.sheen.roughness=0,s.sheenRoughnessTexture&&(s.sheenRoughnessTexture.nonColorData=!0,r.push(this._loader.loadTextureInfoAsync(`${e}/sheenRoughnessTexture`,s.sheenRoughnessTexture,(e=>{e.name=`${n.name} (Sheen Roughness)`,n.sheen.textureRoughness=e})))),n.sheen.albedoScaling=!0,n.sheen.useRoughnessFromMainTexture=!1,Promise.all(r).then((()=>{}))}}(0,h.Hg)(a),(0,h.Ye)(a,!0,(e=>new l(e)))}}]);