"use strict";(self.webpackChunkGameClient=self.webpackChunkGameClient||[]).push([[7903],{7903:(e,r,a)=>{a.d(r,{KHR_materials_specular:()=>n});var l=a(6486),t=a(67),s=a(451),o=a(9046);const c="KHR_materials_specular";class n{constructor(e){this.name=c,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(c)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,r,a){return t.BT.LoadExtensionAsync(e,r,this.name,((l,t)=>{const s=new Array;return s.push(this._loader.loadMaterialPropertiesAsync(e,r,a)),s.push(this._loadSpecularPropertiesAsync(l,t,a)),Promise.all(s).then((()=>{}))}))}_loadSpecularPropertiesAsync(e,r,a){if(!(a instanceof l.Y))throw new Error(`${e}: Material type not supported`);const t=new Array;return void 0!==r.specularFactor&&(a.metallicF0Factor=r.specularFactor),void 0!==r.specularColorFactor&&(a.metallicReflectanceColor=s.v9.FromArray(r.specularColorFactor)),r.specularTexture&&(r.specularTexture.nonColorData=!0,t.push(this._loader.loadTextureInfoAsync(`${e}/specularTexture`,r.specularTexture,(e=>{e.name=`${a.name} (Specular)`,a.metallicReflectanceTexture=e,a.useOnlyMetallicFromMetallicReflectanceTexture=!0})))),r.specularColorTexture&&t.push(this._loader.loadTextureInfoAsync(`${e}/specularColorTexture`,r.specularColorTexture,(e=>{e.name=`${a.name} (Specular Color)`,a.reflectanceTexture=e}))),Promise.all(t).then((()=>{}))}}(0,o.Hg)(c),(0,o.Ye)(c,!0,(e=>new n(e)))}}]);