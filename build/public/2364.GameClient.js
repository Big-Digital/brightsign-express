"use strict";(self.webpackChunkGameClient=self.webpackChunkGameClient||[]).push([[2364],{2364:(e,o,r)=>{r.d(o,{KHR_materials_unlit:()=>n});var a=r(451),t=r(6486),s=r(67),l=r(9046);const i="KHR_materials_unlit";class n{constructor(e){this.name=i,this.order=210,this._loader=e,this.enabled=this._loader.isExtensionUsed(i)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,o,r){return s.BT.LoadExtensionAsync(e,o,this.name,(()=>this._loadUnlitPropertiesAsync(e,o,r)))}_loadUnlitPropertiesAsync(e,o,r){if(!(r instanceof t.Y))throw new Error(`${e}: Material type not supported`);const s=new Array;r.unlit=!0;const l=o.pbrMetallicRoughness;return l&&(l.baseColorFactor?(r.albedoColor=a.v9.FromArray(l.baseColorFactor),r.alpha=l.baseColorFactor[3]):r.albedoColor=a.v9.White(),l.baseColorTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/baseColorTexture`,l.baseColorTexture,(e=>{e.name=`${r.name} (Base Color)`,r.albedoTexture=e})))),o.doubleSided&&(r.backFaceCulling=!1,r.twoSidedLighting=!0),this._loader.loadMaterialAlphaProperties(e,o,r),Promise.all(s).then((()=>{}))}}(0,l.Hg)(i),(0,l.Ye)(i,!0,(e=>new n(e)))}}]);